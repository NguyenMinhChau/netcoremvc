@model List<source01.EF.Product>
@{
    ViewBag.Title = "Quản Lý Sản Phẩm";
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
}
<!-- DataTales Example -->
<style>
    .td-desc {
        display: -webkit-box;
        -webkit-box-orient: vertical;
        -webkit-line-clamp: 3;
        text-overflow: ellipsis;
        overflow-x: auto;
        width: 500px;
        -ms-overflow-style: none;
    }

        .td-desc::-webkit-scrollbar {
            width: 1px;
        }

        .td-desc::-webkit-scrollbar-track {
            box-shadow: inset 0 0 6px rgba(0,0,0,0.03);
        }

        .td-desc::-webkit-scrollbar-thumb {
            background-color: darkgray;
            outline: 1px solid slategrey;
        }
</style>
<div class="card shadow mb-4">
    <div class="card-header py-3">
        <h6 class="m-0 font-weight-bold text-primary">Danh sách sản phẩm</h6>
    </div>
    <div class="card-body">
        <a href="~/Admin/Product/Create" class="btn btn-primary mb-3">Thêm mới sản phẩm</a>
        <div class="table-responsive">
            <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Tên SP</th>
                        <th>Mã SP</th>
                        <th>Tiêu đề SEO</th>
                        <th>Mô tả sản phẩm</th>
                        <th>Hình ảnh</th>
                        <th>Giá SALES</th>
                        <th>Giá gốc</th>
                        <th>VAT</th>
                        <th>Số lượng</th>
                        <th>ID danh mục</th>
                        <th>Mô tả chi tiết</th>
                        <th>Ưu đãi bán chạy</th>
                        <th>Người tạo</th>
                        <th>Hành động</th>
                    </tr>
                </thead>
                <tfoot>
                    <tr>
                        <th>ID</th>
                        <th>Tên SP</th>
                        <th>Mã SP</th>
                        <th>Tiêu đề SEO</th>
                        <th>Mô tả sản phẩm</th>
                        <th>Hình ảnh</th>
                        <th>Giá SALES</th>
                        <th>Giá gốc</th>
                        <th>VAT</th>
                        <th>Số lượng</th>
                        <th>ID danh mục</th>
                        <th>Mô tả chi tiết</th>
                        <th>Ưu đãi bán chạy</th>
                        <th>Người tạo</th>
                        <th>Hành động</th>
                    </tr>
                </tfoot>
                <tbody>
                    @foreach (var item in Model)
                    {
                        <tr id="row_@item.ID">
                            <td>@item.ID</td>
                            <td>@item.Name</td>
                            <td>@item.Code</td>
                            <td>@item.MetaTitle</td>
                            <td class="td-desc">@item.Description</td>
                            <td><img src="@item.Image" style="width:100%;height:50px" /></td>
                            <td>@item.Price</td>
                            <td>@item.PromotionPrice</td>
                            <td>@item.IncludedVAT</td>
                            <td>@item.Quantity</td>
                            <td>@item.CategoryID</td>
                            <td class="td-desc">@item.Detail</td>
                            <td>@item.Warranty</td>
                            <td><span class="btnActive">@item.CreatedBy</span></td>
                            <td>
                                <a href="~/Admin/Product/Edit/@item.ID">Sửa</a>
                                |
                                @Ajax.ActionLink("Xóa", "Delete", new { @id = item.ID }, new AjaxOptions
                                {
                               Confirm = "Hành động không thể khôi phục.Bạn có muốn xóa sản phẩm này?",
                               OnComplete = "$('#row_" + @item.ID + "').remove()",
                               HttpMethod = "Delete"

                           })
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>
<style>
    .btnActive {
        padding: 5px 12px;
        border-radius: 10px;
        color: #fff;
        background-color: green;
    }
</style>

